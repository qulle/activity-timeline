<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=0"><link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='rgb(59, 67, 82)' class='bi bi-diagram-3-fill' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zm-6 8A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm6 0A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1z'/%3E%3C/svg%3E" type="image/svg+xml"><title>Activity Timeline</title></head><body>  <style>*{box-sizing:border-box;outline:none}html{-ms-overflow-style:none;scrollbar-width:none}html::-webkit-scrollbar{display:none}body{-webkit-user-select:none;user-select:none;margin:0;font-family:Arial,sans-serif}p{font-size:1.125rem}.at-m-0{margin:0}.at-d-none{display:none!important}.at-link{color:#6397c2;text-decoration:none}.at-link:focus{text-decoration:underline}.at-animations--bounce{animation:.25s forwards at-bounce}.at-animations--slide-in-left{animation:.25s forwards at-bounce-in-top}@keyframes at-bounce{0%{transform:scale(.95)}50%{transform:scale(1.05)}to{transform:scale(1)}}@keyframes at-bounce-in-top{0%{transform:translateY(-100%)}50%{transform:translateY(50%)}to{transform:translateY(0)}}.at-canvas{display:block}.at-canvas--highlight{background-color:#c9e2f3;transition:background-color .1s ease-in-out}.at-modal-backdrop{width:100%;height:100%;z-index:900;text-align:center;background-color:#0009;display:block;position:absolute;top:0;left:0;overflow-y:auto}.at-modal-backdrop--fixed{position:fixed}.at-modal{text-align:left;max-width:1350px;min-width:450px;background-color:#fff;border-radius:4px;margin:2rem 1rem;padding:1.5rem;display:inline-block;box-shadow:1px 1px #0000004d}.at-modal__header{place-content:center space-between;margin-bottom:1rem;display:flex}.at-modal__title{color:#3b4352;align-items:center;margin:0;display:flex}.at-modal__close{color:#3b4352;width:1.75rem;height:1.75rem;border-radius:4px;justify-content:center;align-items:center;margin:0;display:flex}.at-modal__content{color:#3b4352}.at-modal__content>:last-child{margin-bottom:0}@media only screen and (max-width:576px){.at-modal{min-width:calc(100% - 2rem)}}.at-dialog-backdrop{width:100%;height:100%;z-index:900;text-align:center;background-color:#0009;position:absolute;top:0;left:0}.at-dialog-backdrop--fixed{position:fixed}.at-dialog{max-width:90%;color:#3b4352;background-color:#fff;border-radius:4px;margin:2rem auto;padding:1.5rem;display:inline-block;box-shadow:1px 1px #0000004d}.at-dialog__input{width:250px;margin-bottom:1rem}.at-dialog__btn{padding:.5rem .625rem}.at-dialog__btn:last-child{margin-left:.5rem}.at-dialog__btn:only-child{margin:0}.at-canvas{display:block}.at-canvas--highlight{background-color:#c9e2f3;transition:background-color .1s ease-in-out}.at-btn{text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;color:#fff;text-shadow:1px 1px #0000001a;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-khtml-user-select:none;background-color:#0000;border:none;border-radius:4px;justify-content:center;align-items:center;padding:.5rem;font-size:1rem;font-weight:400;transition:background-color .15s ease-in-out;display:inline-flex;box-shadow:1px 1px #0003}.at-btn:focus{-webkit-tap-highlight-color:transparent;-ms-touch-action:manipulation;touch-action:manipulation;outline:none}.at-btn--round{border-radius:50%}.at-btn--blank{box-shadow:none;color:#3b4352;padding:0}.at-btn--blank:focus{box-shadow:0 0 0 3px #959dad80}.at-btn--blue-mid{background-color:#6397c2}.at-btn--blue-mid:focus{box-shadow:0 0 0 3px #6397c280}.at-btn--blue-mid:hover{background-color:#0166a5}.at-menu{max-width:calc(100% - 2rem);-ms-overflow-style:none;scrollbar-width:none;flex-direction:row;align-items:center;padding:4px;animation:.4s .2s forwards at-bounce-in-top;display:flex;position:fixed;top:1rem;right:1rem;overflow:auto;transform:translateY(calc(-100% - 1rem))}.at-menu::-webkit-scrollbar{display:none}.at-menu__item{margin-left:.5rem}.at-menu__item:first-child{margin:0}.at-menu__icon{filter:drop-shadow(1px 1px #0000001a)}</style> <canvas id="activity-timeline" class="at-canvas" tabindex="0"></canvas>  <script type="module">function t(t){return t&&t.__esModule?t.default:t}const e={width:24,height:24,fill:"currentColor",stroke:"none",class:"",path:""},i=function(t){const i={...e,...t};return`\n        <svg xmlns="http://www.w3.org/2000/svg"\n            width="${i.width}"\n            height="${i.height}"\n            fill="${i.fill}"\n            stroke="${i.stroke}"\n            class="${i.class}"\n            viewBox="0 0 16 16">\n            ${i.path}\n        </svg>\n    `},n={About:'\n        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>\n    ',AlignCenter:'\n        <path d="M8 4a.5.5 0 0 1 .5.5v8a.5.5 0 1 1-1 0v-8a.49.49 0 0 1 .158-.363A.493.493 0 0 1 8 4zM0 8.5a.495.495 0 0 1 .146-.352A.502.502 0 0 1 .5 8h4.793L3.146 5.855A.504.504 0 0 1 3 5.5c0-.133.053-.258.146-.352a.573.573 0 0 1 .2-.125.502.502 0 0 1 .508.125l3 3c.025.024.046.051.064.079l.045.082A.498.498 0 0 1 7 8.5l-.01.102-.027.09a.493.493 0 0 1-.11.163l-3 3A.498.498 0 0 1 3.5 12a.498.498 0 0 1-.354-.852L5.293 9H.5a.531.531 0 0 1-.178-.031.606.606 0 0 1-.111-.059l-.065-.055A.504.504 0 0 1 0 8.5zM15.96 8.309a.504.504 0 0 1-.256.648.529.529 0 0 1-.204.043h-4.793l2.148 2.148c.05.051.086.11.112.172a.505.505 0 0 1-.111.535.503.503 0 0 1-.356.145.498.498 0 0 1-.354-.145l-3-3a.46.46 0 0 1-.107-.164.486.486 0 0 1 0-.382l.053-.094.054-.067 3-3a.557.557 0 0 1 .196-.125.506.506 0 0 1 .66.477.504.504 0 0 1-.147.355L10.707 8H15.5a.501.501 0 0 1 .46.309z"/>\n    ',AlignEnd:'\n        <path fill-rule="evenodd" d="M3 8a.5.5 0 0 1 .5-.5h6.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H3.5A.5.5 0 0 1 3 8Z"/>\n        <path fill-rule="evenodd" d="M12.5 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5Z"/>\n    ',AlignStart:'\n        <path fill-rule="evenodd" d="M13 8a.5.5 0 0 0-.5-.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H12.5A.5.5 0 0 0 13 8Z"/>\n        <path fill-rule="evenodd" d="M3.5 4a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 1 0v-7a.5.5 0 0 0-.5-.5Z"/>\n    ',Bell:'\n        <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>\n    ',Close:'\n        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n    ',ExportData:'\n        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>\n        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>  \n    ',ExportImage:'\n        <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n        <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>\n    ',GitHub:'\n        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>\n    ',Import:'\n        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>\n        <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>\n    ',Info:'\n        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>  \n    ',Logo:'\n        <path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>\n    ',Menu:'\n        <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>\n    ',ZoomIn:'\n        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>\n        <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>\n        <path fill-rule="evenodd" d="M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"/>\n    ',ZoomOut:'\n        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>\n        <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>\n        <path fill-rule="evenodd" d="M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>\n    ',ZoomReset:'\n        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>\n    '};class s{constructor(t){this.timeline=t,this.create()}create(){this.menu=document.createElement("div"),this.menu.className="at-menu",[{title:"Landing Page (H)",callback:this.timeline.menuOnLandingPage.bind(this.timeline),svg:n.Logo},{title:"Current Timeline (I)",callback:this.timeline.menuOnInfo.bind(this.timeline),svg:n.Info},{title:"Align Start (S)",callback:this.timeline.menuOnAlignStart.bind(this.timeline),svg:n.AlignStart},{title:"Align Center (C)",callback:this.timeline.menuOnAlignCenter.bind(this.timeline),svg:n.AlignCenter},{title:"Align End (E)",callback:this.timeline.menuOnAlignEnd.bind(this.timeline),svg:n.AlignEnd},{title:"Reset Zoom (Z)",callback:this.timeline.menuOnZoomReset.bind(this.timeline),svg:n.ZoomReset},{title:"Zoom Out (-)",callback:this.timeline.menuOnZoomDelta.bind(this.timeline,-1),svg:n.ZoomOut},{title:"Zoom In (+)",callback:this.timeline.menuOnZoomDelta.bind(this.timeline,1),svg:n.ZoomIn},{title:"Export PNG (P)",callback:this.timeline.menuOnExportPNG.bind(this.timeline),svg:n.ExportImage},{title:"Import Timeline Data (O)",callback:this.timeline.menuOnDataImport.bind(this.timeline),svg:n.Import},{title:"Export Timeline Data (D)",callback:this.timeline.menuOnDataExport.bind(this.timeline),svg:n.ExportData},{title:"Notifications (N)",callback:this.timeline.menuOnFetchNotification.bind(this.timeline),svg:n.Bell},{title:"GitHub (G)",callback:this.timeline.menuOnGitHub.bind(this.timeline),svg:n.About},{title:"Toggle Menu (M)",callback:this.toggleMenuStrip.bind(this),svg:n.Menu,className:"at-menu__item-toggle"}].forEach((t=>{this.addMenuItem(t.title,t.callback,t.svg,t.className)})),document.body.appendChild(this.menu)}toggleMenuStrip(){[...this.menu.children].filter((t=>!t.classList.contains("at-menu__item-toggle"))).forEach((t=>{t.classList.toggle("at-d-none")}))}addMenuItem(t,e,n,s=""){const a=document.createElement("button");a.type="button",a.className=`at-btn at-btn--blue-mid at-btn--round at-menu__item ${s}`,a.title=t,a.innerHTML=i({path:n,fill:"currentColor",stroke:"none",class:"at-menu__icon",width:20,height:20}),a.addEventListener("click",(()=>{e()})),this.menu.appendChild(a)}}const a=function(t){const e="Tab"===t.key;if(!Boolean(e))return;const i='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',n=this.querySelectorAll(i)[0],s=this.querySelectorAll(i),a=s[s.length-1];Boolean(t.shiftKey)?document.activeElement===n&&(a.focus(),t.preventDefault()):document.activeElement===a&&(n.focus(),t.preventDefault())},r="at-animations--bounce";var o=class{constructor(t){const e=document.createElement("div");e.className="at-modal-backdrop at-modal-backdrop--fixed",e.setAttribute("tabindex","-1"),e.addEventListener("keydown",a),e.addEventListener("click",this.bounceAnimation.bind(this));const s=document.createElement("div");s.className="at-modal at-animations--bounce";const r=document.createElement("div");r.className="at-modal__header";const o=document.createElement("h3");o.className="at-modal__title",o.innerHTML=t;const l=document.createElement("button");l.setAttribute("type","button"),l.className="at-modal__close at-btn at-btn--blank",l.innerHTML=i({path:n.Close,fill:"none",stroke:"currentColor"}),l.addEventListener("click",(t=>{t.preventDefault(),this.close()})),e.appendChild(s),s.appendChild(r),r.appendChild(o),r.appendChild(l),this.modalBackdrop=e,this.modal=s,window.addEventListener("keyup",(t=>{"escape"===t.key.toLowerCase()&&this.close()}))}isSelf(t){return t.target!==this.modalBackdrop}runAnimation(){this.modal.classList.remove(r),this.modal.offsetWidth,this.modal.classList.add(r)}bounceAnimation(t){this.isSelf(t)||this.runAnimation()}show(t){this.modal.appendChild(t),document.body.appendChild(this.modalBackdrop),this.modalBackdrop.focus()}close(){this.modalBackdrop.removeEventListener("keydown",a),this.modalBackdrop.remove()}};class l extends o{constructor(t,e){super(t);const i=document.createElement("div");i.className="at-modal__content",i.innerHTML=e,this.modalContent=i,this.show(i)}setContent(t){this.modalContent.innerHTML=t}}const h="at-animations--bounce";var d=class{constructor(){const t=document.createElement("div");t.className="at-dialog-backdrop at-dialog-backdrop--fixed",t.setAttribute("tabindex","-1"),t.addEventListener("keydown",a),t.addEventListener("click",this.bounceAnimation.bind(this)),this.dialogBackdrop=t,window.addEventListener("keyup",(t=>{"escape"===t.key.toLowerCase()&&this.close()}))}isSelf(t){return t.target!==this.dialogBackdrop}runAnimation(){const t=this.dialogBackdrop.firstElementChild;t.classList.remove(h),t.offsetWidth,t.classList.add(h)}bounceAnimation(t){this.isSelf(t)||this.runAnimation()}close(){this.dialogBackdrop.removeEventListener("keydown",a),this.dialogBackdrop.remove()}};class c extends d{constructor(t){super();const e=document.createElement("div");e.className="at-dialog at-dialog--alert at-animations--bounce",e.innerHTML=t;const i=document.createElement("div");i.className="at-dialog__button-wrapper";const n=document.createElement("button");n.setAttribute("type","button"),n.className="at-dialog__btn at-btn at-btn--blue-mid",n.innerText="Got it!",n.addEventListener("click",(t=>{this.close()})),i.appendChild(n),e.appendChild(i),this.dialogBackdrop.appendChild(e),document.body.appendChild(this.dialogBackdrop),this.dialogBackdrop.focus()}}const u=function(t,e){const i=document.createElement("a");i.style.display="none",i.setAttribute("download",t);const n=m(t)?e:`data:text/plain;charset=utf-8,${encodeURIComponent(e)}`;i.setAttribute("href",n),i.click()},m=function(t){return!!t.includes(".")&&null!==t.split(".").pop().match(/jpg|jpeg|png|gif|svg/i)};var p;const f={meta:{version:(p=JSON.parse('{"name":"activity-timeline","version":"1.4.0","author":"Qulle","license":"BSD-2-Clause license","description":"Portable activity timeline that draws the timeline based on data given in JSON or CSV format.","keywords":["timeline","canvas"],"repository":{"type":"git","url":"git+https://github.com/qulle/activity-timeline.git"},"homepage":"https://github.com/qulle/activity-timeline#readme","bugs":{"url":"https://github.com/qulle/activity-timeline/issues"},"scripts":{"start":"parcel src/index.html --open","build":"parcel build --public-url . src/index.html","clean":"rm -rf dist/ .parcel-cache/"},"devDependencies":{"@parcel/transformer-sass":"^2.8.3","@types/node":"^18.15.11","@types/papaparse":"^5.3.7","parcel":"^2.8.3"},"dependencies":{"papaparse":"^5.4.1"}}')).version,locale:"en-us"},style:{fontSize:14,lineThickness:2,timelineStrokeColor:"#3B4352",strokeColor:"#3B4352",fillColor:"#BAC8D3",textColor:"#3B4352",backgroundColor:"#FFFFFF"},days:[]},g={value:1,factor:.05,min:.25,max:2.5};let v;var y;(y=v||(v={})).Start="start",y.End="end",y.Center="center";const b={left:0,top:0,x:0,y:0},C={highlightClass:"at-canvas--highlight",ladingPageWidth:600,ladingPageHeight:300,radius:18,stepDistanceXAxis:300,stepDistanceYAxis:80,canvasInternalPadding:20,xPadding:150,yPadding:80};var _,w={};
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/_=function t(){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},i=!e.document&&!!e.postMessage,n=e.IS_PAPA_WORKER||!1,s={},a=0,r={parse:function(i,n){var o=(n=n||{}).dynamicTyping||!1;if(_(o)&&(n.dynamicTypingFunction=o,o={}),n.dynamicTyping=o,n.transform=!!_(n.transform)&&n.transform,n.worker&&r.WORKERS_SUPPORTED){var l=function(){if(!r.WORKERS_SUPPORTED)return!1;var i,n,o=(i=e.URL||e.webkitURL||null,n=t.toString(),r.BLOB_URL||(r.BLOB_URL=i.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))),l=new e.Worker(o);return l.onmessage=g,l.id=a++,s[l.id]=l}();return l.userStep=n.step,l.userChunk=n.chunk,l.userComplete=n.complete,l.userError=n.error,n.step=_(n.step),n.chunk=_(n.chunk),n.complete=_(n.complete),n.error=_(n.error),delete n.worker,void l.postMessage({input:i,config:n,workerId:l.id})}var m=null;return r.NODE_STREAM_INPUT,"string"==typeof i?(i=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(i),m=n.download?new h(n):new c(n)):!0===i.readable&&_(i.read)&&_(i.on)?m=new u(n):(e.File&&i instanceof File||i instanceof Object)&&(m=new d(n)),m.stream(i)},unparse:function(t,e){var i=!1,n=!0,s=",",a="\r\n",o='"',l=o+o,h=!1,d=null,c=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||r.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(s=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(i=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(h=e.skipEmptyLines),"string"==typeof e.newline&&(a=e.newline),"string"==typeof e.quoteChar&&(o=e.quoteChar),"boolean"==typeof e.header&&(n=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");d=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+o),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(c=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var u=new RegExp(p(o),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return m(null,t,h);if("object"==typeof t[0])return m(d||Object.keys(t[0]),t,h)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||d),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),m(t.fields||[],t.data||[],h);throw new Error("Unable to serialize unrecognized input");function m(t,e,i){var r="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var o=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(o&&n){for(var h=0;h<t.length;h++)0<h&&(r+=s),r+=f(t[h],h);0<e.length&&(r+=a)}for(var d=0;d<e.length;d++){var c=o?t.length:e[d].length,u=!1,m=o?0===Object.keys(e[d]).length:0===e[d].length;if(i&&!o&&(u="greedy"===i?""===e[d].join("").trim():1===e[d].length&&0===e[d][0].length),"greedy"===i&&o){for(var p=[],g=0;g<c;g++){var v=l?t[g]:g;p.push(e[d][v])}u=""===p.join("").trim()}if(!u){for(var y=0;y<c;y++){0<y&&!m&&(r+=s);var b=o&&l?t[y]:y;r+=f(e[d][b],y)}d<e.length-1&&(!i||0<c&&!m)&&(r+=a)}}return r}function f(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var n=!1;c&&"string"==typeof t&&c.test(t)&&(t="'"+t,n=!0);var a=t.toString().replace(u,l);return(n=n||!0===i||"function"==typeof i&&i(t,e)||Array.isArray(i)&&i[e]||function(t,e){for(var i=0;i<e.length;i++)if(-1<t.indexOf(e[i]))return!0;return!1}(a,r.BAD_DELIMITERS)||-1<a.indexOf(s)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?o+a+o:a}}};if(r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\ufeff",r.BAD_DELIMITERS=["\r","\n",'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!i&&!!e.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=f,r.ParserHandle=m,r.NetworkStreamer=h,r.FileStreamer=d,r.StringStreamer=c,r.ReadableStreamStreamer=u,e.jQuery){var o=e.jQuery;o.fn.parse=function(t){var i=t.config||{},n=[];return this.each((function(t){if("INPUT"!==o(this).prop("tagName").toUpperCase()||"file"!==o(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)n.push({file:this.files[s],inputElem:this,instanceConfig:o.extend({},i)})})),s(),this;function s(){if(0!==n.length){var e,i,s,l=n[0];if(_(t.before)){var h=t.before(l.file,l.inputElem);if("object"==typeof h){if("abort"===h.action)return e=l.file,i=l.inputElem,s=h.reason,void(_(t.error)&&t.error({name:"AbortError"},e,i,s));if("skip"===h.action)return void a();"object"==typeof h.config&&(l.instanceConfig=o.extend(l.instanceConfig,h.config))}else if("skip"===h)return void a()}var d=l.instanceConfig.complete;l.instanceConfig.complete=function(t){_(d)&&d(t,l.file,l.inputElem),a()},r.parse(l.file,l.instanceConfig)}else _(t.complete)&&t.complete()}function a(){n.splice(0,1),s()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new m(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,i){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(t);void 0!==s&&(t=s)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+t;this._partialLine="";var o=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=o.meta.cursor;this._finished||(this._partialLine=a.substring(l-this._baseIndex),this._baseIndex=l),o&&o.data&&(this._rowCount+=o.data.length);var h=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)e.postMessage({results:o,workerId:r.WORKER_ID,finished:h});else if(_(this._config.chunk)&&!i){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!h||!_(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),h||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(t){_(this._config.error)?this._config.error(t):n&&this._config.error&&e.postMessage({workerId:r.WORKER_ID,error:t,finished:!1})}}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=r.RemoteChunkSize),l.call(this,t),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),i||(e.onload=C(this._chunkLoaded,this),e.onerror=C(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}i&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var i=e.statusText||t;this._sendError(new Error(i))}}function d(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=r.LocalChunkSize),l.call(this,t);var n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,i=t.slice||t.webkitSlice||t.mozSlice,n?((e=new FileReader).onload=C(this._chunkLoaded,this),e.onerror=C(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);t=i.call(t,this._start,s)}var a=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function c(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,i=this._config.chunkSize;return i?(t=e.substring(0,i),e=e.substring(i)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function u(t){l.call(this,t=t||{});var e=[],i=!0,n=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=C((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=C((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=C((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=C((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function m(t){var e,i,n,s=Math.pow(2,53),a=-s,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,h=this,d=0,c=0,u=!1,m=!1,g=[],v={data:[],errors:[],meta:{}};if(_(t.step)){var y=t.step;t.step=function(e){if(v=e,k())w();else{if(w(),0===v.data.length)return;d+=e.data.length,t.preview&&d>t.preview?i.abort():(v.data=v.data[0],y(v,h))}}}function C(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function w(){return v&&n&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(v.data=v.data.filter((function(t){return!C(t)}))),k()&&function(){if(v)if(Array.isArray(v.data[0])){for(var e=0;k()&&e<v.data.length;e++)v.data[e].forEach(i);v.data.splice(0,1)}else v.data.forEach(i);function i(e,i){_(t.transformHeader)&&(e=t.transformHeader(e,i)),g.push(e)}}(),function(){if(!v||!t.header&&!t.dynamicTyping&&!t.transform)return v;function e(e,i){var n,s=t.header?{}:[];for(n=0;n<e.length;n++){var a=n,r=e[n];t.header&&(a=n>=g.length?"__parsed_extra":g[n]),t.transform&&(r=t.transform(r,a)),r=E(a,r),"__parsed_extra"===a?(s[a]=s[a]||[],s[a].push(r)):s[a]=r}return t.header&&(n>g.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+n,c+i):n<g.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+n,c+i)),s}var i=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(e),i=v.data.length):v.data=e(v.data,0),t.header&&v.meta&&(v.meta.fields=g),c+=i,v}()}function k(){return t.header&&0===g.length}function E(e,i){var n;return n=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[n]&&(t.dynamicTyping[n]=t.dynamicTypingFunction(n)),!0===(t.dynamicTyping[n]||t.dynamicTyping)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&(function(t){if(o.test(t)){var e=parseFloat(t);if(a<e&&e<s)return!0}return!1}(i)?parseFloat(i):l.test(i)?new Date(i):""===i?null:i):i}function x(t,e,i,n){var s={type:t,code:e,message:i};void 0!==n&&(s.row=n),v.errors.push(s)}this.parse=function(s,a,o){var l=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var i=new RegExp(p(e)+"([^]*?)"+p(e),"gm"),n=(t=t.replace(i,"")).split("\r"),s=t.split("\n"),a=1<s.length&&s[0].length<n[0].length;if(1===n.length||a)return"\n";for(var r=0,o=0;o<n.length;o++)"\n"===n[o][0]&&r++;return r>=n.length/2?"\r\n":"\r"}(s,l)),n=!1,t.delimiter)_(t.delimiter)&&(t.delimiter=t.delimiter(s),v.meta.delimiter=t.delimiter);else{var h=function(e,i,n,s,a){var o,l,h,d;a=a||[",","\t","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var c=0;c<a.length;c++){var u=a[c],m=0,p=0,g=0;h=void 0;for(var v=new f({comments:s,delimiter:u,newline:i,preview:10}).parse(e),y=0;y<v.data.length;y++)if(n&&C(v.data[y]))g++;else{var b=v.data[y].length;p+=b,void 0!==h?0<b&&(m+=Math.abs(b-h),h=b):h=b}0<v.data.length&&(p/=v.data.length-g),(void 0===l||m<=l)&&(void 0===d||d<p)&&1.99<p&&(l=m,o=u,d=p)}return{successful:!!(t.delimiter=o),bestDelimiter:o}}(s,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);h.successful?t.delimiter=h.bestDelimiter:(n=!0,t.delimiter=r.DefaultDelimiter),v.meta.delimiter=t.delimiter}var d=b(t);return t.preview&&t.header&&d.preview++,e=s,i=new f(d),v=i.parse(e,a,o),w(),u?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,i.abort(),e=_(t.chunk)?"":e.substring(i.getCharIndex())},this.resume=function(){h.streamer._halted?(u=!1,h.streamer.parseChunk(e,!0)):setTimeout(h.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,i.abort(),v.meta.aborted=!0,_(t.complete)&&t.complete(v),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(t){var e,i=(t=t||{}).delimiter,n=t.newline,s=t.comments,a=t.step,o=t.preview,l=t.fastMode,h=e=void 0===t.quoteChar||null===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(h=t.escapeChar),("string"!=typeof i||-1<r.BAD_DELIMITERS.indexOf(i))&&(i=","),s===i)throw new Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<r.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var d=0,c=!1;this.parse=function(r,u,m){if("string"!=typeof r)throw new Error("Input must be a string");var f=r.length,g=i.length,v=n.length,y=s.length,b=_(a),C=[],w=[],k=[],E=d=0;if(!r)return q();if(t.header&&!u){var x=r.split(n)[0].split(i),D=[],L={},A=!1;for(var S in x){var O=x[S];_(t.transformHeader)&&(O=t.transformHeader(O,S));var M=O,T=L[O]||0;for(0<T&&(A=!0,M=O+"_"+T),L[O]=T+1;D.includes(M);)M=M+"_"+T;D.push(M)}if(A){var z=r.split(n);z[0]=D.join(i),r=z.join(n)}}if(l||!1!==l&&-1===r.indexOf(e)){for(var R=r.split(n),I=0;I<R.length;I++){if(k=R[I],d+=k.length,I!==R.length-1)d+=n.length;else if(m)return q();if(!s||k.substring(0,y)!==s){if(b){if(C=[],j(k.split(i)),U(),c)return q()}else j(k.split(i));if(o&&o<=I)return C=C.slice(0,o),q(!0)}}return q()}for(var P=r.indexOf(i,d),H=r.indexOf(n,d),N=new RegExp(p(h)+p(e),"g"),F=r.indexOf(e,d);;)if(r[d]!==e)if(s&&0===k.length&&r.substring(d,d+y)===s){if(-1===H)return q();d=H+v,H=r.indexOf(n,d),P=r.indexOf(i,d)}else if(-1!==P&&(P<H||-1===H))k.push(r.substring(d,P)),d=P+g,P=r.indexOf(i,d);else{if(-1===H)break;if(k.push(r.substring(d,H)),Z(H+v),b&&(U(),c))return q();if(o&&C.length>=o)return q(!0)}else for(F=d,d++;;){if(-1===(F=r.indexOf(e,F+1)))return m||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:C.length,index:d}),V();if(F===f-1)return V(r.substring(d,F).replace(N,e));if(e!==h||r[F+1]!==h){if(e===h||0===F||r[F-1]!==h){-1!==P&&P<F+1&&(P=r.indexOf(i,F+1)),-1!==H&&H<F+1&&(H=r.indexOf(n,F+1));var $=W(-1===H?P:Math.min(P,H));if(r.substr(F+1+$,g)===i){k.push(r.substring(d,F).replace(N,e)),r[d=F+1+$+g]!==e&&(F=r.indexOf(e,d)),P=r.indexOf(i,d),H=r.indexOf(n,d);break}var B=W(H);if(r.substring(F+1+B,F+1+B+v)===n){if(k.push(r.substring(d,F).replace(N,e)),Z(F+1+B+v),P=r.indexOf(i,d),F=r.indexOf(e,d),b&&(U(),c))return q();if(o&&C.length>=o)return q(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:C.length,index:d}),F++}}else F++}return V();function j(t){C.push(t),E=d}function W(t){var e=0;if(-1!==t){var i=r.substring(F+1,t);i&&""===i.trim()&&(e=i.length)}return e}function V(t){return m||(void 0===t&&(t=r.substring(d)),k.push(t),d=f,j(k),b&&U()),q()}function Z(t){d=t,j(k),k=[],H=r.indexOf(n,d)}function q(t){return{data:C,errors:w,meta:{delimiter:i,linebreak:n,aborted:c,truncated:!!t,cursor:E+(u||0)}}}function U(){a(q()),C=[],w=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return d}}function g(t){var e=t.data,i=s[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){n=!0,v(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(i.userStep)){for(var r=0;r<e.results.data.length&&(i.userStep({data:e.results.data[r],errors:e.results.errors,meta:e.results.meta},a),!n);r++);delete e.results}else _(i.userChunk)&&(i.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!n&&v(e.workerId,e.results)}function v(t,e){var i=s[t];_(i.userComplete)&&i.userComplete(e),i.terminate(),delete s[t]}function y(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=b(t[i]);return e}function C(t,e){return function(){t.apply(e,arguments)}}function _(t){return"function"==typeof t}return n&&(e.onmessage=function(t){var i=t.data;if(void 0===r.WORKER_ID&&i&&(r.WORKER_ID=i.workerId),"string"==typeof i.input)e.postMessage({workerId:r.WORKER_ID,results:r.parse(i.input,i.config),finished:!0});else if(e.File&&i.input instanceof File||i.input instanceof Object){var n=r.parse(i.input,i.config);n&&e.postMessage({workerId:r.WORKER_ID,results:n,finished:!0})}}),(h.prototype=Object.create(l.prototype)).constructor=h,(d.prototype=Object.create(l.prototype)).constructor=d,(c.prototype=Object.create(c.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,r},"function"==typeof define&&define.amd?define([],_):w=_();var k=p.version;const E=document.documentElement,x=window.devicePixelRatio||1;const D=document.getElementById("activity-timeline");new class{constructor(t){this.canvas=t,this.isDragging=!1,this.zoom=g,this.dragPosition=b,this.menu=new s(this),this.meta=f.meta,this.style=f.style,["wheel","dragenter","dragover","dragleave","drop","contextmenu","mousedown"].forEach((t=>{document.addEventListener(t,this.onEventPrevent,{passive:!1})})),document.addEventListener("keydown",this.onKeyDown),window.addEventListener("resize",this.onResize.bind(this)),this.canvas.addEventListener("drop",this.onCanvasDrop.bind(this)),this.canvas.addEventListener("click",this.onCanvasClick.bind(this)),this.canvas.addEventListener("wheel",this.onCanvasWheel.bind(this)),this.canvas.addEventListener("keydown",this.onCanvasKeyDown.bind(this)),this.canvas.addEventListener("mousemove",this.onCanvasMouseMove.bind(this)),this.canvas.addEventListener("mousedown",this.onCanvasMouseDown.bind(this)),["dragenter","dragover"].forEach((t=>{this.canvas.addEventListener(t,this.highlight.bind(this))})),["dragleave","drop"].forEach((t=>{this.canvas.addEventListener(t,this.unhighlight.bind(this))})),this.renderLandingPage(),this.canvas.focus()}onEventPrevent(t){t.preventDefault(),t.stopPropagation()}onKeyDown(t){const e=t.key.toLowerCase();!t.ctrlKey&&!t.metaKey||"+"!==e&&"-"!==e||(t.preventDefault(),t.stopPropagation())}onCanvasMouseDown(t){this.canvas.focus(),this.dragPosition={left:E.scrollLeft,top:E.scrollTop,x:t.clientX,y:t.clientY},this.canvasMouseMoveCallback=this.onCanvasMouseDrag.bind(this),this.canvasMouseUpCallback=this.onCanvasMouseUp.bind(this),this.canvas.addEventListener("mousemove",this.canvasMouseMoveCallback),document.addEventListener("mouseup",this.canvasMouseUpCallback)}onCanvasMouseDrag(t){this.canvas.style.cursor="grabbing",this.isDragging=!0;const e=t.clientX-this.dragPosition.x,i=t.clientY-this.dragPosition.y;E.scrollLeft=this.dragPosition.left-e,E.scrollTop=this.dragPosition.top-i}onCanvasKeyDown(t){const e=t.key.toLowerCase();if(!this.hasData()&&!["m","g","o"].includes(e)||t.ctrlKey||t.shiftKey)return;const i={g:this.menuOnGitHub.bind(this),s:this.menuOnAlignStart.bind(this),e:this.menuOnAlignEnd.bind(this),c:this.menuOnAlignCenter.bind(this),z:this.menuOnZoomReset.bind(this),i:this.menuOnInfo.bind(this),h:this.menuOnLandingPage.bind(this),o:this.menuOnDataImport.bind(this),p:this.menuOnExportPNG.bind(this),d:this.menuOnDataExport.bind(this),n:this.menuOnFetchNotification.bind(this),"+":this.menuOnZoomDelta.bind(this,1),"-":this.menuOnZoomDelta.bind(this,-1),m:this.menu.toggleMenuStrip.bind(this.menu)};i[e]?.call()}onCanvasMouseMove(t){const e=this.hitDetection(t.clientX,t.clientY)?"pointer":"default";this.canvas.style.cursor=e}onCanvasWheel(t){if(t.preventDefault(),t.stopPropagation(),!this.hasData()||!t.ctrlKey)return;const e=-1*t.deltaY;this.zoomTimeline(t.clientX,t.clientY,e)}onCanvasClick(t){if(this.isDragging)return void(this.isDragging=!1);const e=this.hitDetection(t.clientX,t.clientY);if(e){const t=`\n                <span style="\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 50%;\n                    margin-right: 0.5rem;\n                    flex-shrink: 0;\n                    background-color: ${e.fillColor};\n                    border: 2px solid ${e.strokeColor};\n                "></span>\n                ${e.title}\n            `,i=`\n                <p>${e.description}</p>\n                <p>${e.timestamp.toLocaleString(this.meta.locale)}</p>\n            `;new l(t,i)}}onCanvasMouseUp(){this.canvas.removeEventListener("mousemove",this.canvasMouseMoveCallback),document.removeEventListener("mouseup",this.canvasMouseUpCallback),this.canvas.style.cursor="default"}onCanvasDrop(t){const e=t.dataTransfer.files.item(0);this.handleFileBeforeParse(e)}onResize(){this.hasData()?this.render():this.renderLandingPage()}menuOnLandingPage(){this.days=f.days,this.style=f.style,this.meta=f.meta,this.renderLandingPage()}menuOnAlignStart(){this.scrollTimeline(v.Start)}menuOnAlignEnd(){this.scrollTimeline(v.End)}menuOnAlignCenter(){this.scrollTimeline(v.Center)}menuOnExportPNG(){if(!this.hasData())return;const t=this.canvas.toDataURL("image/png",1);u(this.fileData.name+".png",t)}menuOnGitHub(){new c('\n            <h3 class="at-m-0">GitHub</h3>\n            <p>Developed by Qulle <a href="https://github.com/qulle/activity-timeline" target="_blank" class="at-link">github.com/qulle/activity-timeline</a></p>\n        ')}menuOnInfo(){if(!this.hasData())return;let t=0,e=Number.MAX_VALUE,i=0;this.days.forEach((n=>{const s=n.activities.length;s>t&&(t=s),s<e&&(e=s),i+=s}));const n=this.days[0].date,s=this.days[this.days.length-1].date,a=s.getTime()-n.getTime(),r=Math.ceil(a/864e5),o=i/this.days.length,h=this.days.length/r*100,d=`\n            <h3>üìù File meta</h3>\n            <p>File: <strong>${this.fileData.name}.${this.fileData.extension}</strong></p>\n            <p>Opened: <strong>${this.fileData.opened.toLocaleTimeString(this.meta.locale)}</strong></p>\n            <p>Localization: <strong>${this.meta.locale}</strong></p>\n            <h3>üìâ Statistics</h3>\n            <p>First date: <strong>${n.toLocaleDateString(this.meta.locale)}</strong></p>\n            <p>Last date: <strong>${s.toLocaleDateString(this.meta.locale)}</strong></p>\n            <p>Time period: <strong>${r} days</strong></p>\n            <p>Activities on: <strong>${this.days.length} days</strong> corresponding to <strong>${Number(h.toFixed(2))}%</strong> of time period</p>\n            <p>Total activites: <strong>${i} st</strong></p>\n            <p>Most activites in a day: <strong>${t} st</strong></p>\n            <p>Least activites in a day: <strong>${e} st</strong></p>\n            <p>Avarage activites in a day: <strong>${Number(o.toFixed(2))} st</strong></p>\n        `;new l("Current Timeline",d)}menuOnZoomReset(){this.hasData()&&this.resetZoom()}menuOnZoomDelta(t){if(!this.hasData())return;const e=window.innerWidth/2,i=window.innerHeight/2;this.zoomTimeline(e,i,t)}menuOnDataImport(){const t=document.createElement("input");t.className="at-d-none",t.setAttribute("type","file"),t.setAttribute("accept",".json, .csv"),t.addEventListener("change",(t=>{const e=t.target.files[0];this.handleFileBeforeParse(e)})),t.click()}menuOnDataExport(){if(!this.hasData())return;const t={json:this.exportAsCSV.bind(this),csv:this.exportAsJSON.bind(this)}[this.fileData.extension];if(t)t.call();else{new c('\n                <h3 class="at-m-0">Oops!</h3>\n                <p>Could not decide fileformat - report as <a href="https://github.com/qulle/activity-timeline/issues" target="_blank" class="at-link">bug</a></p>\n            ')}}menuOnFetchNotification(){const t=new l("Notifications","<p>Loading notifications...</p>"),e=(new Date).getTime().toString();fetch(`https://raw.githubusercontent.com/qulle/notification-endpoints/main/endpoints/activity-timeline.json?cache=${e}`,{method:"GET",headers:{Accept:"application/json"}}).then((t=>Boolean(t.ok)?t.json():Promise.reject(`${t.status} ${t.statusText}`))).then((e=>{let i="";0===e.features.length?i="<p>No features currently under development</p>":e.features.forEach((t=>{i+=`<p>${t}</p>`}));const n={message:e.message,latest:{version:e.latest.version,released:e.latest.released},features:i};this.setNotificationModalContent(t,n)})).catch((e=>{this.setNotificationModalContent(t,{message:"Glad you are using my App, hope you find it useful!",error:"Data from the GitHub repo could not be fetched"}),console.error(`Fetch error [${e}]`)}))}setNotificationModalContent(t,e){const i=`\n            <h3>üëã From Qulle</h3>\n            <p>${e.message}</p>\n            <h3>üî≠ Your version</h3>\n            <p>\n                <a href="https://github.com/qulle/activity-timeline/tree/main/examples/v${k}" target="_blank" class="at-link">\n                    v${k}\n                </a>\n            </p>\n            ${Boolean(e.latest)&&Boolean(e.latest.version)&&Boolean(e.latest.released)?`\n                    <h3>üöÄ Latest version</h3>\n                    <p>\n                        <a href="https://github.com/qulle/activity-timeline/tree/main/examples/v${e.latest.version}" target="_blank" class="at-link">\n                            v${e.latest.version} - ${new Date(e.latest.released).toLocaleDateString(this.meta.locale)}\n                        </a>\n                    </p>\n                `:""}\n            ${Boolean(e.features)&&e.features.length>0?`\n                    <h3>üí° New features under development</h3>\n                    ${e.features}\n                `:""}\n            ${Boolean(e.error)&&e.error.length>0?`\n                    <h3>üì° Fetch error</h3>\n                    <p>${e.error}</p>\n                `:""}\n        `;t.setContent(i)}exportAsCSV(){const t={meta:{...this.meta},style:{...this.style},days:[...this.days]};let e=`Timestamp;Title;Description;Fill Color;Stroke Color;${JSON.stringify(t,((t,e)=>("days"===t&&(e=void 0),e)))}\r\n`;t.days.forEach((i=>{i.activities.forEach((i=>{e+=`${i.timestamp.toLocaleString(t.meta.locale)};${i.title};${i.description};${i.fillColor};${i.strokeColor}\r\n`}))})),e=e.replace(/\r\n*$/,""),u(this.fileData.name+".csv",e)}exportAsJSON(){const t={meta:{...this.meta},style:{...this.style},days:[...this.days]},e=JSON.stringify(t,((e,i)=>("x"!==e&&"y"!==e||(i=void 0),"date"===e&&(i=new Date(i).toLocaleDateString(t.meta.locale)),"timestamp"===e&&(i=new Date(i).toLocaleTimeString(t.meta.locale)),i)),4);u(this.fileData.name+".json",e)}handleFileBeforeParse(t){const e=t.name.lastIndexOf("."),i=t.name.substring(0,e)||t.name,n=t.name.substring(e+1).toLowerCase()||t.name;this.fileData={name:i,extension:n,opened:new Date};const s={json:this.parseJSONFile,csv:this.parseCSVFile}[n];if(s)s.call(this,t);else{new c('\n                <h3 class="at-m-0">Oops!</h3>\n                <p>Can only parse <strong>.json</strong> or <strong>.csv</strong> files</p>\n            ')}}zoomTimeline(t,e,i){const n=Math.sign(i);let s=(t+E.scrollLeft)/this.zoom.value,a=(e+E.scrollTop)/this.zoom.value;this.zoom.value+=n*this.zoom.factor*this.zoom.value,this.zoom.value=Math.max(this.zoom.min,Math.min(this.zoom.max,this.zoom.value));let r={x:s*this.zoom.value-t,y:a*this.zoom.value-e};this.render(),E.scrollLeft=r.x,E.scrollTop=r.y}scrollTimeline(t){if(!this.hasData())return;const e=window.innerHeight/2,i=parseInt(this.canvas.style.height,10)/2,n=Math.abs(e-i),s=parseInt(this.canvas.style.width,10),a=window.innerWidth/2,r={start:0,end:s,center:Math.abs(a-s/2)}[t];window.scrollTo({top:n,left:r,behavior:"smooth"})}resetZoom(){this.zoom.value=1,this.hasData()&&this.render()}highlight(){this.canvas.classList.add(C.highlightClass)}unhighlight(){this.canvas.classList.remove(C.highlightClass)}parseJSONFile(t){const e=new FileReader;e.readAsText(t),e.addEventListener("loadend",(()=>{let t;try{const i=e.result,n=JSON.parse(i,(function(e,i){return"date"===e?(t=i,i=new Date(i)):"timestamp"===e&&(i=new Date(t+" "+i)),"string"==typeof i&&i.trim(),i})),s={meta:{...f.meta,...n.meta||{}},style:{...f.style,...n.style||{}},days:[...f.days,...n.days||[]]};this.setData(s),this.render(),this.scrollTimeline(v.End)}catch(t){console.error(`JSON parsing error [${t}]`);new c('\n                    <h3 class="at-m-0">Oops!</h3>\n                    <p>Error parsing the <strong>JSON</strong> file - check the syntax</p>\n                ')}}))}parseCSVFile(e){const i=new FileReader;i.readAsText(e,"iso-8859-1"),i.addEventListener("loadend",(()=>{try{let e={},n={};const s=i.result.replace(";;;;;","").replace(";;;;","").trim(),a=["timestamp","title","description","fillColor","strokeColor","json"],r=t(w).parse(s,{header:!0,delimiter:";",skipEmptyLines:!0,transformHeader:function(t,i){if(5===i){const i=JSON.parse(t);e=i.meta,n=i.style}return a[i]},transform:function(t,e){return t.trim()}});r.data.forEach((t=>{delete t.json}));const o=r.data.reduce(((t,e)=>{const i=new Date(e.timestamp),n=i.toDateString();return e.timestamp=i,t[n]||(t[n]=[]),t[n].push(e),t}),{}),l=Object.keys(o).map((t=>({date:new Date(t),activities:o[t]}))),h={meta:{...f.meta,...e||{}},style:{...f.style,...n||{}},days:[...f.days,...l||[]]};this.setData(h),this.render(),this.scrollTimeline(v.End)}catch(t){console.error(`CSV parsing error [${t}]`);new c('\n                    <h3 class="at-m-0">Oops!</h3>\n                    <p>Error parsing the <strong>CSV</strong> file - check the syntax</p>\n                ')}}))}hasData(){return Array.isArray(this.days)&&this.days.length>0}calculateWidth(t){let e=window.innerWidth*t,i=0;return i+=C.xPadding*t*(this.zoom.value>1?this.zoom.value:1),i+=C.stepDistanceXAxis*t*this.zoom.value*this.days.length,i>e&&(e=i),e}calculateHeight(t){let e=window.innerHeight*t,i=0;this.days.forEach((t=>{t.activities.length>i&&(i=t.activities.length)}));let n=0;return n+=C.yPadding*t*(this.zoom.value>1?this.zoom.value:1),n+=C.stepDistanceYAxis*t*this.zoom.value*i*2,n>e&&(e=n),e}getVerticalMid(){return(this.canvas.height/2-this.style.lineThickness/2)/(this.zoom.value*x)}isToday(t){const e=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}getWeekDayName(t){const e=t.toLocaleString(this.meta.locale,{weekday:"long"});return e.charAt(0).toUpperCase()+e.slice(1)}isTop(t){return t%2==0}isBottom(t){return!this.isTop(t)}hitDetection(t,e){if(!this.hasData())return;const i=this.canvas.getBoundingClientRect(),n=(t-i.left)/(this.zoom.value*x),s=(e-i.top)/(this.zoom.value*x),a=C.radius/x;for(let t=0;t<this.days.length;t++)for(let e=0;e<this.days[t].activities.length;e++){const i=this.days[t].activities[e];if(i.x>=n-a&&i.x<=n+a&&i.y>=s-a&&i.y<=s+a)return i}}setData(t){if(this.meta=t.meta,this.style=t.style,this.days=t.days,this.days.sort(((t,e)=>t.date.getTime()-e.date.getTime())),this.days.forEach((t=>{t.activities.sort(((t,e)=>t.timestamp.getTime()-e.timestamp.getTime()))})),this.meta.version!==k){new c(`\n                <h3 class="at-m-0">Possibly version mismatch</h3>\n                <p>Application version <strong>v${k}</strong> and JSON version <strong>v${this.meta.version}</strong></p>\n            `)}}renderCircle(t,e,i,n,s,a){t.fillStyle=s,t.strokeStyle=a,t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.fill(),t.stroke()}renderLandingPage(){this.resetZoom();const t=this.canvas.getContext("2d");this.canvas.width=window.innerWidth*x,this.canvas.height=window.innerHeight*x,t.clearRect(0,0,this.canvas.width,this.canvas.height),t.scale(this.zoom.value*x,this.zoom.value*x),this.canvas.style.width=window.innerWidth+"px",this.canvas.style.height=window.innerHeight+"px";const e=window.innerWidth<C.ladingPageWidth+C.canvasInternalPadding?.9*window.innerWidth:C.ladingPageWidth,i=window.innerHeight<C.ladingPageHeight+C.canvasInternalPadding?.9*window.innerHeight:C.ladingPageHeight;t.fillStyle="#E9E9E9",t.lineWidth=this.style.lineThickness,t.strokeStyle=this.style.strokeColor,t.setLineDash([6]),t.fillRect(window.innerWidth/2-e/2,window.innerHeight/2-i/1.8,e,i),t.strokeRect(window.innerWidth/2-e/2,window.innerHeight/2-i/1.8,e,i);const n=100,s=76,a=new Path2D("M37.5 21.875C37.5 19.3886 38.4877 17.004 40.2459 15.2459C42.004 13.4877 44.3886 12.5 46.875 12.5H53.125C55.6114 12.5 57.996 13.4877 59.7541 15.2459C61.5123 17.004 62.5 19.3886 62.5 21.875V28.125C62.5 30.6114 61.5123 32.996 59.7541 34.7541C57.996 36.5123 55.6114 37.5 53.125 37.5V43.75H87.5C88.3288 43.75 89.1237 44.0792 89.7097 44.6653C90.2958 45.2513 90.625 46.0462 90.625 46.875V53.125C90.625 53.9538 90.2958 54.7487 89.7097 55.3347C89.1237 55.9208 88.3288 56.25 87.5 56.25C86.6712 56.25 85.8763 55.9208 85.2903 55.3347C84.7042 54.7487 84.375 53.9538 84.375 53.125V50H53.125V53.125C53.125 53.9538 52.7958 54.7487 52.2097 55.3347C51.6237 55.9208 50.8288 56.25 50 56.25C49.1712 56.25 48.3763 55.9208 47.7903 55.3347C47.2042 54.7487 46.875 53.9538 46.875 53.125V50H15.625V53.125C15.625 53.9538 15.2958 54.7487 14.7097 55.3347C14.1237 55.9208 13.3288 56.25 12.5 56.25C11.6712 56.25 10.8763 55.9208 10.2903 55.3347C9.70424 54.7487 9.375 53.9538 9.375 53.125V46.875C9.375 46.0462 9.70424 45.2513 10.2903 44.6653C10.8763 44.0792 11.6712 43.75 12.5 43.75H46.875V37.5C44.3886 37.5 42.004 36.5123 40.2459 34.7541C38.4877 32.996 37.5 30.6114 37.5 28.125V21.875ZM0 71.875C0 69.3886 0.98772 67.004 2.74587 65.2459C4.50403 63.4877 6.8886 62.5 9.375 62.5H15.625C18.1114 62.5 20.496 63.4877 22.2541 65.2459C24.0123 67.004 25 69.3886 25 71.875V78.125C25 80.6114 24.0123 82.996 22.2541 84.7541C20.496 86.5123 18.1114 87.5 15.625 87.5H9.375C6.8886 87.5 4.50403 86.5123 2.74587 84.7541C0.98772 82.996 0 80.6114 0 78.125L0 71.875ZM37.5 71.875C37.5 69.3886 38.4877 67.004 40.2459 65.2459C42.004 63.4877 44.3886 62.5 46.875 62.5H53.125C55.6114 62.5 57.996 63.4877 59.7541 65.2459C61.5123 67.004 62.5 69.3886 62.5 71.875V78.125C62.5 80.6114 61.5123 82.996 59.7541 84.7541C57.996 86.5123 55.6114 87.5 53.125 87.5H46.875C44.3886 87.5 42.004 86.5123 40.2459 84.7541C38.4877 82.996 37.5 80.6114 37.5 78.125V71.875ZM75 71.875C75 69.3886 75.9877 67.004 77.7459 65.2459C79.504 63.4877 81.8886 62.5 84.375 62.5H90.625C93.1114 62.5 95.496 63.4877 97.2541 65.2459C99.0123 67.004 100 69.3886 100 71.875V78.125C100 80.6114 99.0123 82.996 97.2541 84.7541C95.496 86.5123 93.1114 87.5 90.625 87.5H84.375C81.8886 87.5 79.504 86.5123 77.7459 84.7541C75.9877 82.996 75 80.6114 75 78.125V71.875Z"),r="DROP TIMELINE DATA FILE";t.font="italic bold 20px Arial",t.fillStyle=this.style.textColor,t.fillText(r,window.innerWidth/2-t.measureText(r).width/2,window.innerHeight/2+s/2);const o="Version "+k;t.font="italic 14px Arial",t.fillText(o,window.innerWidth/2-t.measureText(o).width/2,window.innerHeight/2+s/2+20),t.translate(window.innerWidth/2-n/2,window.innerHeight/2-s-20),t.fill(a)}render(){const t=this.canvas.getContext("2d"),e=this.calculateWidth(x),i=this.calculateHeight(x);this.canvas.width=e,this.canvas.height=i,t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle=this.style.backgroundColor,t.fillRect(0,0,this.canvas.width,this.canvas.height),t.scale(this.zoom.value*x,this.zoom.value*x),this.canvas.style.width=Number(e/x)+"px",this.canvas.style.height=Number(i/x)+"px";const n=this.getVerticalMid();t.font=`bold ${this.style.fontSize}px Arial`,t.strokeStyle=this.style.timelineStrokeColor,t.lineWidth=this.style.lineThickness,t.lineCap="round",t.beginPath(),t.moveTo(C.canvasInternalPadding,n),t.lineTo(this.canvas.width/(this.zoom.value*x)-C.canvasInternalPadding,n),t.stroke(),this.days.forEach(((e,i)=>{const s=C.xPadding+C.stepDistanceXAxis*i,a=n,r=this.isTop(i)?1:-1,o=this.isBottom(i)?this.style.fontSize/2:0;t.strokeStyle=this.style.timelineStrokeColor,t.beginPath(),t.setLineDash([5,8]),t.moveTo(s,a),t.lineTo(s,a+e.activities.length*C.stepDistanceYAxis*-r),t.stroke(),t.setLineDash([]),e.activities.forEach(((e,i)=>{const n=s,o=a+C.stepDistanceYAxis*(i+1)*-r;this.renderCircle(t,n,o,C.radius,e.fillColor,e.strokeColor),e.x=n/x,e.y=o/x,t.fillStyle=this.style.textColor,t.fillText(e.title,s+1.5*C.radius,a+C.stepDistanceYAxis*(i+1)*-r-10+this.style.fontSize/2),t.fillText(e.timestamp.toLocaleTimeString(this.meta.locale),s+1.5*C.radius,a+C.stepDistanceYAxis*(i+1)*-r+8+this.style.fontSize/2)})),this.renderCircle(t,s,a,C.radius,this.style.fillColor,this.style.strokeColor);const l=this.isToday(e.date)?e.date.toLocaleDateString(this.meta.locale)+" (Today)":e.date.toLocaleDateString(this.meta.locale)+" ("+this.getWeekDayName(e.date)+")";t.fillStyle=this.style.textColor,t.fillText(l,s-t.measureText(l).width/2,a+o+2*C.radius*r)}))}}(D);</script> </body></html>