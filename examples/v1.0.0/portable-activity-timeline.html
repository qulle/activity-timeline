<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=1"><link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='rgb(59, 67, 82)' class='bi bi-diagram-3-fill' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zm-6 8A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm6 0A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1z'/%3E%3C/svg%3E" type="image/svg+xml"><title>Activity Timeline</title></head><body>  <style>*{box-sizing:border-box;outline:none}html{-ms-overflow-style:none;scrollbar-width:none}html::-webkit-scrollbar{display:none}body{user-select:none;margin:0;font-family:Arial,sans-serif}p{font-size:1.125rem}.at-m-0{margin:0}.at-link{color:#6397c2;text-decoration:none}.at-link:focus{text-decoration:underline}.at-animations--bounce{animation:at-bounce .25s forwards}@keyframes at-bounce{0%{opacity:.6;transform:scale(.95)}50%{opacity:.8;transform:scale(1.05)}to{opacity:1;transform:scale(1)}}.at-canvas{display:block}.at-canvas--highlight{background-color:#c9e2f3;transition:background-color .1s ease-in-out}.at-context-menu{max-width:250px;min-width:200px;user-select:none;text-shadow:1px 1px #0000001a;background-color:#f6f6f6;border-radius:4px;margin:0;padding:0;font-size:.875rem;list-style:none;display:none;position:fixed;box-shadow:1px 1px #0003}.at-context-menu__item{cursor:pointer;text-overflow:ellipsis;white-space:nowrap;color:#3b4352;border-radius:4px;align-items:center;margin:.25rem;padding:.563rem .875rem .563rem .5rem;transition:background-color .1s ease-in-out;display:flex;overflow:hidden}.at-context-menu__item:hover,.at-context-menu__item:focus{color:#0166a5;background-color:#c9e2f3}.at-context-menu__icon{filter:drop-shadow(1px 1px #0000001a);margin:0;padding-right:.625rem;display:flex}.at-context-menu__icon svg{width:20px;height:20px}.at-context-menu--show{display:block}.at-modal-backdrop{width:100%;height:100%;z-index:900;text-align:center;background-color:#0009;display:block;position:absolute;top:0;left:0;overflow-y:auto}.at-modal-backdrop--fixed{position:fixed}.at-modal{text-align:left;max-width:1350px;min-width:450px;background-color:#fff;border-radius:4px;margin:2rem 1rem;padding:1.5rem;display:inline-block;box-shadow:1px 1px #0000004d}.at-modal__header{place-content:center space-between;margin-bottom:1rem;display:flex}.at-modal__title{color:#3b4352;align-items:center;margin:0;display:flex}.at-modal__close{color:#3b4352;width:1.75rem;height:1.75rem;border-radius:4px;justify-content:center;align-items:center;margin:0;display:flex}.at-modal__content{color:#3b4352}.at-modal__content>:last-child{margin-bottom:0}@media only screen and (max-width:576px){.at-modal{min-width:calc(100% - 2rem)}}.at-dialog-backdrop{width:100%;height:100%;z-index:900;text-align:center;background-color:#0009;position:absolute;top:0;left:0}.at-dialog-backdrop--fixed{position:fixed}.at-dialog{max-width:90%;color:#3b4352;background-color:#fff;border-radius:4px;margin:2rem auto;padding:1.5rem;display:inline-block;box-shadow:1px 1px #0000004d}.at-dialog__input{width:250px;margin-bottom:1rem}.at-dialog__btn{padding:.5rem .625rem}.at-dialog__btn:last-child{margin-left:.5rem}.at-dialog__btn:only-child{margin:0}.at-canvas{display:block}.at-canvas--highlight{background-color:#c9e2f3;transition:background-color .1s ease-in-out}.at-btn{text-align:center;user-select:none;cursor:pointer;color:#fff;text-shadow:1px 1px #0000001a;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-khtml-user-select:none;background-color:#0000;border:none;border-radius:4px;justify-content:center;align-items:center;padding:.5rem;font-size:1rem;font-weight:400;display:inline-flex;box-shadow:1px 1px #0003}.at-btn:focus{-webkit-tap-highlight-color:transparent;-ms-touch-action:manipulation;touch-action:manipulation;outline:none}.at-btn--blank{box-shadow:none;color:#3b4352;padding:0}.at-btn--blank:focus{box-shadow:0 0 0 3px #959dad80}.at-btn--blue-mid{background-color:#6397c2}.at-btn--blue-mid:focus{box-shadow:0 0 0 3px #6397c280}</style> <canvas id="activity-timeline" class="at-canvas" tabindex="0"></canvas>  <script type="module">var t;const e={meta:{version:(t=JSON.parse('{"name":"activity-timeline","version":"1.0.0","description":"Portable activity timeline that draws the timeline based on data given in JSON format.","scripts":{"start":"parcel src/index.html --open","build":"parcel build --public-url . src/index.html","clean":"rm -rf dist/ .parcel-cache/","test":"echo \\"Error: no test specified\\" && exit 1"},"keywords":[],"author":"Qulle - https://github.com/qulle","license":"BSD-2-Clause license","devDependencies":{"@parcel/transformer-sass":"^2.6.2","@types/node":"^18.6.3","parcel":"^2.6.2"}}')).version,locale:"en-us"},style:{fontSize:14,lineThickness:2,timelineStrokeColor:"#3B4352",strokeColor:"#3B4352",fillColor:"#BAC8D3",textColor:"#3B4352",backgroundColor:"#FFFFFF"},days:[]},i={value:1,factor:.05,min:.25,max:2.5},n={left:0,top:0,x:0,y:0},s={highlightClass:"at-canvas--highlight",ladingPageWidth:600,ladingPageHeight:300,radius:18,amplification:2,stepDistanceXAxis:150,stepDistanceYAxis:80,canvasInternalPadding:20,xPadding:150,yPadding:80},a=function(t){const e=this.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0],i=this.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=i[i.length-1];"Tab"===t.key&&(t.shiftKey?document.activeElement===e&&(n.focus(),t.preventDefault()):document.activeElement===n&&(e.focus(),t.preventDefault()))},o={width:24,height:24,fill:"currentColor",stroke:"none",class:"",path:""},l=function(t){const e={...o,...t};return`\n        <svg xmlns="http://www.w3.org/2000/svg" \n            width="${e.width}" \n            height="${e.height}" \n            fill="${e.fill}"\n            stroke="${e.stroke}" \n            class="${e.class}" \n            viewBox="0 0 16 16">\n            ${e.path}\n        </svg>\n    `},r={Close:'\n        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n    ',Export:'\n        <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n        <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>\n    ',GitHub:'\n        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>\n    ',ZoomIn:'\n        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>\n        <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>\n        <path fill-rule="evenodd" d="M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"/>\n    ',ZoomOut:'\n        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>\n        <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>\n        <path fill-rule="evenodd" d="M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>\n    '};var h=class{constructor(t){this.timeline=t,this.create()}create(){this.menu=document.createElement("ul"),this.menu.className="at-context-menu",this.menu.setAttribute("tabindex","-1"),this.menu.addEventListener("keydown",a),this.addMenuItem("Export as PNG",this.timeline.contextmenuOnExportPNG,l({path:r.Export,fill:"currentColor",stroke:"none"})),this.addMenuItem("Zoom in",this.timeline.contextmenuOnZoomIn,l({path:r.ZoomIn,fill:"currentColor",stroke:"none"})),this.addMenuItem("Zoom out",this.timeline.contextmenuOnZoomOut,l({path:r.ZoomOut,fill:"currentColor",stroke:"none"})),this.addMenuItem("About",this.timeline.contextmenuOnAbout,l({path:r.GitHub,fill:"currentColor",stroke:"none"})),document.body.appendChild(this.menu)}addMenuItem(t,e,i){const n=document.createElement("li");n.className="at-context-menu__item",n.textContent=t,n.setAttribute("tabindex","0"),n.addEventListener("click",(()=>{this.click(e)})),n.addEventListener("keyup",(t=>{"enter"===t.key.toLowerCase()&&this.click(e)}));const s=document.createElement("span");s.className="at-context-menu__icon",s.innerHTML=i,n.insertAdjacentElement("afterbegin",s),this.menu.appendChild(n)}click(t){this.hide(),t.call(this.timeline,this.clickedCoordinate.x,this.clickedCoordinate.y)}show(t){this.clickedCoordinate={x:t.clientX,y:t.clientY},this.menu.style.left=`${t.clientX}px`,this.menu.style.top=`${t.clientY}px`,this.menu.classList.add("at-context-menu--show"),this.menu.focus()}hide(){this.menu.classList.remove("at-context-menu--show")}};var d=class{constructor(t){const e=document.createElement("div");e.className="at-modal-backdrop at-modal-backdrop--fixed",e.setAttribute("tabindex","1"),e.addEventListener("keydown",a),e.addEventListener("click",this.bounceAnimation.bind(this));const i=document.createElement("div");i.className="at-modal at-animations--bounce";const n=document.createElement("div");n.className="at-modal__header";const s=document.createElement("h3");s.className="at-modal__title",s.innerHTML=t;const o=document.createElement("button");o.setAttribute("type","button"),o.className="at-modal__close at-btn at-btn--blank",o.innerHTML=l({path:r.Close,fill:"none",stroke:"currentColor"}),o.addEventListener("click",(t=>{t.preventDefault(),this.close()})),e.appendChild(i),i.appendChild(n),n.appendChild(s),n.appendChild(o),this.modalBackdrop=e,this.modal=i,window.addEventListener("keyup",(t=>{"Escape"===t.key&&this.close()}))}bounceAnimation(t){t.target===this.modalBackdrop&&(this.modal.classList.remove("at-animations--bounce"),this.modal.offsetWidth,this.modal.classList.add("at-animations--bounce"))}show(t){this.modal.appendChild(t),document.body.appendChild(this.modalBackdrop),this.modal.focus()}close(){this.modalBackdrop.removeEventListener("keydown",a),this.modalBackdrop.remove()}};var c=class extends d{constructor(t,e){super(t);const i=document.createElement("div");i.className="at-modal__content",i.innerHTML=e,this.show(i)}};var m=class{constructor(){const t=document.createElement("div");t.className="at-dialog-backdrop at-dialog-backdrop--fixed",t.setAttribute("tabindex","-1"),t.addEventListener("keydown",a),t.addEventListener("click",this.bounceAnimation.bind(this)),this.dialogBackdrop=t,window.addEventListener("keyup",(t=>{"Escape"===t.key&&this.close()}))}bounceAnimation(t){if(t.target!==this.dialogBackdrop)return;const e=this.dialogBackdrop.firstElementChild;e.classList.remove("at-animations--bounce"),e.offsetWidth,e.classList.add("at-animations--bounce")}close(){this.dialogBackdrop.removeEventListener("keydown",a),this.dialogBackdrop.remove()}};var u=class extends m{constructor(t){super();const e=document.createElement("div");e.className="at-dialog at-dialog--alert at-animations--bounce",e.innerHTML=t;const i=document.createElement("button");i.setAttribute("type","button"),i.className="at-dialog__btn at-btn at-btn--blue-mid",i.innerText="Got it!",i.addEventListener("click",(t=>{this.close()})),e.appendChild(i),this.dialogBackdrop.appendChild(e),document.body.appendChild(this.dialogBackdrop),this.dialogBackdrop.focus()}},v=t.version;const g=document.documentElement;new class{constructor(t){this.canvas=t,this.isDragging=!1,this.zoom=i,this.dragPosition=n,this.contextmenu=new h(this),this.meta=e.meta,this.style=e.style,["wheel","contextmenu"].forEach((t=>{document.addEventListener(t,this.onEventPrevent,{passive:!1})})),window.addEventListener("resize",this.onResize.bind(this)),this.canvas.addEventListener("drop",this.onDrop.bind(this)),this.canvas.addEventListener("click",this.onClick.bind(this)),this.canvas.addEventListener("wheel",this.onMouseWheelZoom.bind(this)),this.canvas.addEventListener("keydown",this.onKeyDown.bind(this)),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvas.addEventListener("contextmenu",this.onContextmenu.bind(this)),["dragenter","dragover","dragleave","drop","contextmenu"].forEach((t=>{this.canvas.addEventListener(t,this.onEventPrevent)})),["dragenter","dragover"].forEach((t=>{this.canvas.addEventListener(t,this.highlight.bind(this))})),["dragleave","drop"].forEach((t=>{this.canvas.addEventListener(t,this.unhighlight.bind(this))})),this.renderLandingPage(),this.canvas.focus()}onEventPrevent(t){t.preventDefault(),t.stopPropagation()}onMouseDown(t){this.dragPosition={left:g.scrollLeft,top:g.scrollTop,x:t.clientX,y:t.clientY},this.mouseDragCallback=this.onMouseDragHandler.bind(this),this.mouseUpCallback=this.onMouseUpHandler.bind(this),this.canvas.addEventListener("mousemove",this.mouseDragCallback),document.addEventListener("mouseup",this.mouseUpCallback)}onMouseDragHandler(t){this.canvas.style.cursor="grabbing",this.isDragging=!0;const e=t.clientX-this.dragPosition.x,i=t.clientY-this.dragPosition.y;g.scrollLeft=this.dragPosition.left-e,g.scrollTop=this.dragPosition.top-i}onKeyDown(t){if(!this.hasData())return;const e=t.key.toLowerCase();({s:this.scrollTimeline.bind(this,"start"),e:this.scrollTimeline.bind(this,"end"),z:this.resetZoom.bind(this)})[e]?.call()}onMouseMove(t){const e=this.hitDetection(t.clientX,t.clientY)?"pointer":"default";this.canvas.style.cursor=e}onMouseWheelZoom(t){t.preventDefault(),t.stopPropagation(),this.hasData()&&t.ctrlKey&&this.zoomTimeline(t.clientX,t.clientY,t.deltaY)}onClick(t){if(this.contextmenu.hide(),this.isDragging)return void(this.isDragging=!1);const e=this.hitDetection(t.clientX,t.clientY);if(e){const t=`\n                <span style="\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 50%;\n                    margin-right: 0.5rem;\n                    flex-shrink: 0;\n                    background-color: ${e.fillColor};\n                    border: 2px solid ${e.strokeColor};\n                "></span>\n                ${e.title}\n            `,i=`\n                <p>${e.description}</p>\n                <p>${e.timestamp.toLocaleString(this.meta.locale)}</p>\n            `;new c(t,i)}}onMouseUpHandler(){this.canvas.removeEventListener("mousemove",this.mouseDragCallback),document.removeEventListener("mouseup",this.mouseUpCallback),this.canvas.style.cursor="default"}onDrop(t){const e=t.dataTransfer.files.item(0);this.filename=e.name.substring(0,e.name.lastIndexOf("."))||e.name,this.parseFile(e)}onResize(){this.hasData()?this.render():this.renderLandingPage()}onContextmenu(t){this.hasData()&&this.contextmenu.show(t)}contextmenuOnExportPNG(t,e){const i=this.canvas.toDataURL("image/png",1),n=document.createElement("a");n.href=i,n.download=this.filename+".png",document.body.appendChild(n),n.click(),document.body.removeChild(n)}contextmenuOnAbout(t,e){new u(`\n            <h3 class="at-m-0">Version ${v}</h3>\n            <p>Developed by Qulle <a href="https://github.com/qulle/activity-timeline" target="_blank" class="at-link">github.com/qulle/activity-timeline</a></p>\n        `)}contextmenuOnZoomIn(t,e){this.zoomTimeline(t,e,-1)}contextmenuOnZoomOut(t,e){this.zoomTimeline(t,e,1)}zoomTimeline(t,e,i){const n=-1*Math.sign(i);let s=(t+g.scrollLeft)/this.zoom.value,a=(e+g.scrollTop)/this.zoom.value;this.zoom.value+=n*this.zoom.factor*this.zoom.value,this.zoom.value=Math.max(this.zoom.min,Math.min(this.zoom.max,this.zoom.value));let o={x:s*this.zoom.value-t,y:a*this.zoom.value-e};this.render(),g.scrollLeft=o.x,g.scrollTop=o.y}scrollTimeline(t){this.canvas.scrollIntoView({behavior:"smooth",block:"center",inline:t})}resetZoom(){this.zoom.value=1,this.render()}highlight(){this.canvas.classList.add(s.highlightClass)}unhighlight(){this.canvas.classList.remove(s.highlightClass)}parseFile(t){const e=this,i=new FileReader;i.readAsText(t),i.onloadend=function(){let t;try{const n=JSON.parse(i.result,(function(e,i){return"date"===e?(t=i,i=new Date(i)):"timestamp"===e&&(i=new Date(t+" "+i)),i}));e.setData(n),e.render(),e.scrollTimeline("end")}catch(t){new u('\n                    <h3 class="at-m-0">Oops!</h3>\n                    <p>Error parsing the JSON file, check the syntax!</p>\n                ')}}}hasData(){return Array.isArray(this.days)&&this.days.length>0}calculateWidth(){let t=window.innerWidth;const e=s.xPadding*(this.zoom.value>1?this.zoom.value:1)+s.stepDistanceXAxis*s.amplification*this.days.length*this.zoom.value;return e>t&&(t=e),t}calculateHeight(){let t=window.innerHeight,e=0;this.days.forEach((t=>{t.activities.length>e&&(e=t.activities.length)}));const i=s.yPadding*(this.zoom.value>1?this.zoom.value:1)+s.stepDistanceYAxis*e*2*this.zoom.value;return i>t&&(t=i),t}getVerticalMid(){return(this.canvas.height/2-this.style.lineThickness/2)/this.zoom.value}isToday(t){const e=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}getWeekDayName(t){const e=t.toLocaleString(this.meta.locale,{weekday:"long"});return e.charAt(0).toUpperCase()+e.slice(1)}isTop(t){return t%2==0}hitDetection(t,e){if(!this.hasData())return;const i=this.canvas.getBoundingClientRect(),n=(t-i.left)/this.zoom.value,a=(e-i.top)/this.zoom.value,o=s.radius;for(let t=0;t<this.days.length;t++)for(let e=0;e<this.days[t].activities.length;e++){const i=this.days[t].activities[e];if(i.x>=n-o&&i.x<=n+o&&i.y>=a-o&&i.y<=a+o)return i}}setData(t){if(this.meta={...e.meta,...t.meta},this.style={...e.style,...t.style},this.days=[...e.days,...t.days],this.days.sort(((t,e)=>t.date.getTime()-e.date.getTime())),this.days.forEach((t=>{t.activities.sort(((t,e)=>t.timestamp.getTime()-e.timestamp.getTime()))})),this.meta.version!==v){new u(`\n                <h3 class="at-m-0">Possibly version mismatch</h3>\n                <p>Application version <strong>v${v}</strong> and JSON version <strong>v${this.meta.version}</strong></p>\n            `)}}renderCircle(t,e,i,n,s,a){t.fillStyle=s,t.strokeStyle=a,t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.fill(),t.stroke()}renderLandingPage(){const t=this.canvas.getContext("2d");this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,t.clearRect(0,0,this.canvas.width,this.canvas.height);const e=window.innerWidth<s.ladingPageWidth+s.canvasInternalPadding?.9*window.innerWidth:s.ladingPageWidth,i=window.innerHeight<s.ladingPageHeight+s.canvasInternalPadding?.9*window.innerHeight:s.ladingPageHeight;t.fillStyle="#E9E9E9",t.lineWidth=this.style.lineThickness,t.strokeStyle=this.style.strokeColor,t.setLineDash([6]),t.fillRect(window.innerWidth/2-e/2,window.innerHeight/2-i/1.8,e,i),t.strokeRect(window.innerWidth/2-e/2,window.innerHeight/2-i/1.8,e,i);const n=100,a=76,o=new Path2D("M37.5 21.875C37.5 19.3886 38.4877 17.004 40.2459 15.2459C42.004 13.4877 44.3886 12.5 46.875 12.5H53.125C55.6114 12.5 57.996 13.4877 59.7541 15.2459C61.5123 17.004 62.5 19.3886 62.5 21.875V28.125C62.5 30.6114 61.5123 32.996 59.7541 34.7541C57.996 36.5123 55.6114 37.5 53.125 37.5V43.75H87.5C88.3288 43.75 89.1237 44.0792 89.7097 44.6653C90.2958 45.2513 90.625 46.0462 90.625 46.875V53.125C90.625 53.9538 90.2958 54.7487 89.7097 55.3347C89.1237 55.9208 88.3288 56.25 87.5 56.25C86.6712 56.25 85.8763 55.9208 85.2903 55.3347C84.7042 54.7487 84.375 53.9538 84.375 53.125V50H53.125V53.125C53.125 53.9538 52.7958 54.7487 52.2097 55.3347C51.6237 55.9208 50.8288 56.25 50 56.25C49.1712 56.25 48.3763 55.9208 47.7903 55.3347C47.2042 54.7487 46.875 53.9538 46.875 53.125V50H15.625V53.125C15.625 53.9538 15.2958 54.7487 14.7097 55.3347C14.1237 55.9208 13.3288 56.25 12.5 56.25C11.6712 56.25 10.8763 55.9208 10.2903 55.3347C9.70424 54.7487 9.375 53.9538 9.375 53.125V46.875C9.375 46.0462 9.70424 45.2513 10.2903 44.6653C10.8763 44.0792 11.6712 43.75 12.5 43.75H46.875V37.5C44.3886 37.5 42.004 36.5123 40.2459 34.7541C38.4877 32.996 37.5 30.6114 37.5 28.125V21.875ZM0 71.875C0 69.3886 0.98772 67.004 2.74587 65.2459C4.50403 63.4877 6.8886 62.5 9.375 62.5H15.625C18.1114 62.5 20.496 63.4877 22.2541 65.2459C24.0123 67.004 25 69.3886 25 71.875V78.125C25 80.6114 24.0123 82.996 22.2541 84.7541C20.496 86.5123 18.1114 87.5 15.625 87.5H9.375C6.8886 87.5 4.50403 86.5123 2.74587 84.7541C0.98772 82.996 0 80.6114 0 78.125L0 71.875ZM37.5 71.875C37.5 69.3886 38.4877 67.004 40.2459 65.2459C42.004 63.4877 44.3886 62.5 46.875 62.5H53.125C55.6114 62.5 57.996 63.4877 59.7541 65.2459C61.5123 67.004 62.5 69.3886 62.5 71.875V78.125C62.5 80.6114 61.5123 82.996 59.7541 84.7541C57.996 86.5123 55.6114 87.5 53.125 87.5H46.875C44.3886 87.5 42.004 86.5123 40.2459 84.7541C38.4877 82.996 37.5 80.6114 37.5 78.125V71.875ZM75 71.875C75 69.3886 75.9877 67.004 77.7459 65.2459C79.504 63.4877 81.8886 62.5 84.375 62.5H90.625C93.1114 62.5 95.496 63.4877 97.2541 65.2459C99.0123 67.004 100 69.3886 100 71.875V78.125C100 80.6114 99.0123 82.996 97.2541 84.7541C95.496 86.5123 93.1114 87.5 90.625 87.5H84.375C81.8886 87.5 79.504 86.5123 77.7459 84.7541C75.9877 82.996 75 80.6114 75 78.125V71.875Z"),l="DROP TIMELINE JSON { }";t.font="italic bold 20px Arial",t.fillStyle=this.style.textColor,t.fillText(l,window.innerWidth/2-t.measureText(l).width/2,window.innerHeight/2+a/2);const r="Version "+v;t.font="italic 14px Arial",t.fillText(r,window.innerWidth/2-t.measureText(r).width/2,window.innerHeight/2+a/2+20),t.translate(window.innerWidth/2-n/2,window.innerHeight/2-a-20),t.fill(o)}render(){const t=this.canvas.getContext("2d");this.canvas.width=this.calculateWidth(),this.canvas.height=this.calculateHeight(),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle=this.style.backgroundColor,t.fillRect(0,0,this.canvas.width,this.canvas.height),t.scale(this.zoom.value,this.zoom.value);const e=this.getVerticalMid();t.font=`bold ${this.style.fontSize}px Arial`,t.strokeStyle=this.style.timelineStrokeColor,t.lineWidth=this.style.lineThickness,t.lineCap="round",t.beginPath(),t.moveTo(s.canvasInternalPadding,e),t.lineTo(this.canvas.width/this.zoom.value-s.canvasInternalPadding,e),t.stroke(),this.days.forEach(((i,n)=>{const a=s.xPadding+s.stepDistanceXAxis*s.amplification*n,o=e,l=this.isTop(n)?1:-1,r=this.isTop(n)?0:this.style.fontSize/2;t.strokeStyle=this.style.timelineStrokeColor,t.beginPath(),t.setLineDash([5,8]),t.moveTo(a,o),t.lineTo(a,o+i.activities.length*s.stepDistanceYAxis*-l),t.stroke(),t.setLineDash([]),i.activities.forEach(((e,i)=>{const n=a,r=o+s.stepDistanceYAxis*(i+1)*-l;this.renderCircle(t,n,r,s.radius,e.fillColor,e.strokeColor),e.x=n,e.y=r,t.fillStyle=this.style.textColor,t.fillText(e.title,a+1.5*s.radius,o+s.stepDistanceYAxis*(i+1)*-l-10+this.style.fontSize/2),t.fillText(e.timestamp.toLocaleTimeString(this.meta.locale),a+1.5*s.radius,o+s.stepDistanceYAxis*(i+1)*-l+8+this.style.fontSize/2)})),this.renderCircle(t,a,o,s.radius,this.style.fillColor,this.style.strokeColor);const h=this.isToday(i.date)?i.date.toLocaleDateString(this.meta.locale)+" (Today)":i.date.toLocaleDateString(this.meta.locale)+" ("+this.getWeekDayName(i.date)+")";t.fillStyle=this.style.textColor,t.fillText(h,a-t.measureText(h).width/2,o+r+2*s.radius*l)}))}}(document.getElementById("activity-timeline"));</script> </body></html>